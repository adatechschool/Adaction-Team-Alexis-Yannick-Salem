<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Gestion des B√©n√©voles - EcoCollect</title>
    <link rel="stylesheet" href="../../css/index.css">
    <link rel="stylesheet" href="../../css/associations/benevoles.css">
    <script src="../../js/associations/benevoles.js" defer></script>
    <script src="../../js/associations/collectes.js" defer></script>
</head>

<body>
    <nav class="navbar">
        <div class="nav-links">
            <a href="/associations/dashboard" class="nav-link">Dashboard</a>
            <a href="/associations/benevoles" class="nav-link active">B√©n√©voles</a>
            <a href="/" class="nav-link logout">D√©connexion</a>
        </div>
    </nav>

    <main class="container">
        <section class="management-header">
            <h1>Gestion de l'Association</h1>
            <div class="section-tabs">
                <button type="button" class="section-tab active" data-section="benevoles">B√©n√©voles</button>
                <button type="button" class="section-tab" data-section="collectes">Collectes</button>
            </div>
        </section>

        <section id="benevoles-section" class="management-section active">
            <p class="section-description">G√©rez vos b√©n√©voles et leurs activit√©s</p>
            <div class="benevoles-list">
                <div class="benevoles-actions">
                    <button class="action-btn">Ajouter un B√©n√©vole</button>
                    <input type="search" placeholder="Rechercher le nom d'un b√©n√©vole..." class="search-input">
                </div>
                <div class="benevoles-cards">
                    <!-- Les cartes des b√©n√©voles seront ajout√©es ici dynamiquement -->
                </div>
            </div>
        </section>

        <section id="collectes-section" class="management-section">
            <p class="section-description">G√©rez vos collectes et suivez leurs r√©sultats</p>
            <div class="collectes-list">
                <div class="collectes-actions">
                    <button class="action-btn">Ajouter une Collecte</button>
                    <input type="search" placeholder="Rechercher une collecte..." class="search-input">
                </div>
                <div class="collectes-cards">
                    <!-- Les cartes des collectes seront ajout√©es ici dynamiquement -->
                </div>
            </div>
        </section>
    </main>

    <!-- Popup for adding new benevole -->
    <div id="addBenevolePopup" class="popup-overlay">
        <div class="popup-content">
            <div class="profile-header">
                <button type="button" class="cancel-btn floating-close" onclick="closePopup()">
                    <span class="close-icon">‚úï</span>
                </button>
                <div class="avatar-container">
                    <div class="avatar">
                        <span class="avatar-icon">üë§</span>
                    </div>
                </div>
                <h2>Ajouter un B√©n√©vole</h2>
            </div>
            <form id="addBenevoleForm">
                <div class="form-group">
                    <label for="username">Nom d'utilisateur</label>
                    <input type="text" id="username" name="username" required>
                </div>
                <div class="form-group">
                    <label for="first_name">Pr√©nom</label>
                    <input type="text" id="first_name" name="first_name" required>
                </div>
                <div class="form-group">
                    <label for="last_name">Nom</label>
                    <input type="text" id="last_name" name="last_name" required>
                </div>
                <div class="form-group">
                    <label for="city">Ville</label>
                    <div class="city-search-container">
                        <input type="text" id="citySearch" name="citySearch" placeholder="Rechercher une ville..." autocomplete="off">
                        <input type="hidden" id="city" name="city" required>
                        <div id="cityResults" class="city-results"></div>
                    </div>
                </div>
                <div class="popup-actions">
                    <button type="submit" class="action-btn">Ajouter</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Popup for viewing/editing benevole profile -->
    <div id="profileBenevolePopup" class="popup-overlay">
        <div class="popup-content">
            <div class="profile-header">
                <button type="button" class="cancel-btn floating-close" onclick="closeProfilePopup()">
                    <span class="close-icon">‚úï</span>
                </button>
                <div class="avatar-container">
                    <div class="avatar">
                        <span class="avatar-icon">üë§</span>
                    </div>
                </div>
                <button type="button" class="edit-btn floating-action" id="editProfileBtn">Modifier</button>
                <button type="submit" class="save-btn floating-action" id="saveProfileBtn" style="display: none;">Enregistrer</button>
            </div>
            <form id="profileBenevoleForm">
                <div class="form-group username-group">
                    <label for="profile-username">Nom d'utilisateur</label>
                    <input type="text" id="profile-username" name="username" required>
                </div>
                <div class="form-row">
                    <div class="form-group half">
                        <label for="profile-first-name">Pr√©nom</label>
                        <input type="text" id="profile-first-name" name="first_name" required>
                    </div>
                    <div class="form-group half">
                        <label for="profile-last-name">Nom</label>
                        <input type="text" id="profile-last-name" name="last_name" required>
                    </div>
                </div>
                <div class="form-group">
                    <div class="city-search-container">
                        <label for="profile-citySearch">Ville</label>
                        <input type="text" id="profile-citySearch" name="citySearch" placeholder="Rechercher une ville..." autocomplete="off">
                        <input type="hidden" id="profile-city" name="city" required>
                        <div id="profile-cityResults" class="city-results"></div>
                    </div>
                </div>
                <div class="form-group points-group">
                    <div class="points-display">
                        <label for="profile-points">Points R√©colt√©s</label>
                        <span class="points-icon">üèÜ</span>
                        <input type="number" id="profile-points" name="points" readonly>
                    </div>
                </div>
                <div class="popup-actions">
                    <button type="button" class="delete-btn" id="deleteProfileBtn">Supprimer</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Popup for adding new collecte -->
    <div id="addCollectePopup" class="popup-overlay">
        <div class="popup-content">
            <div class="profile-header">
                <button type="button" class="cancel-btn floating-close" onclick="closeCollectePopup()">
                    <span class="close-icon">‚úï</span>
                </button>
                <div class="collecte-header-content">
                    <h2>Ajouter une Collecte</h2>
                </div>
            </div>
            <form id="addCollecteForm">
                <div class="form-group">
                    <label for="collecte-name">Nom de la collecte</label>
                    <input type="text" id="collecte-name" name="name" required>
                </div>
                <div class="form-row">
                    <div class="form-group half">
                        <label for="collecte-date">Date</label>
                        <input type="date" id="collecte-date" name="date" required>
                    </div>
                    <div class="form-group half">
                        <label for="collecte-time">Heure</label>
                        <input type="time" id="collecte-time" name="time" required>
                    </div>
                </div>
                <div class="form-group">
                    <label for="collecte-location">Lieu</label>
                    <input type="text" id="collecte-location" name="location" required>
                </div>
                <div class="form-group">
                    <label for="collecte-responsable">B√©n√©vole Responsable</label>
                    <select id="collecte-responsable" name="responsable" required>
                        <option value="">S√©lectionner un b√©n√©vole</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="collecte-description">Description</label>
                    <textarea id="collecte-description" name="description" rows="3" required></textarea>
                </div>
                <div class="popup-actions">
                    <button type="submit" class="action-btn">Ajouter</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Popup for viewing/editing collecte details -->
    <div id="profileCollectePopup" class="popup-overlay">
        <div class="popup-content">
            <div class="profile-header">
                <button type="button" class="cancel-btn floating-close" onclick="closeCollecteProfilePopup()">
                    <span class="close-icon">‚úï</span>
                </button>
                <div class="collecte-header-content">
                    <h2 id="collecte-title">Nom de la collecte</h2>
                    <span class="collecte-date">üìÖ <span id="collecte-datetime"></span></span>
                </div>
                <button type="button" class="edit-btn floating-action" id="editCollecteBtn">Modifier</button>
                <button type="submit" class="save-btn floating-action" id="saveCollecteBtn" style="display: none;">Enregistrer</button>
            </div>
            <form id="profileCollecteForm">
                <div class="form-row">
                    <div class="form-group half">
                        <label for="profile-collecte-date">Date</label>
                        <input type="date" id="profile-collecte-date" name="date" required>
                    </div>
                    <div class="form-group half">
                        <label for="profile-collecte-time">Heure</label>
                        <input type="time" id="profile-collecte-time" name="time" required>
                    </div>
                </div>
                <div class="form-group">
                    <label for="profile-collecte-location">Lieu</label>
                    <input type="text" id="profile-collecte-location" name="location" required>
                </div>
                <div class="form-group">
                    <label for="profile-collecte-responsable">B√©n√©vole Responsable</label>
                    <select id="profile-collecte-responsable" name="responsable" required>
                        <option value="">S√©lectionner un b√©n√©vole</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="profile-collecte-description">Description</label>
                    <textarea id="profile-collecte-description" name="description" rows="3" required></textarea>
                </div>
                <div class="collecte-status">
                    <h3>√âtat de la collecte</h3>
                    <div class="status-info">
                        <div class="status-item">
                            <span class="status-label">Statut:</span>
                            <span class="status-value" id="collecte-status">√Ä venir</span>
                        </div>
                        <div class="status-item">
                            <span class="status-label">B√©n√©voles inscrits:</span>
                            <span class="status-value" id="collecte-participants">0</span>
                        </div>
                    </div>
                </div>
                <div class="collecte-results" style="display: none;">
                    <h3>R√©sultats de la collecte</h3>
                    <div class="results-info">
                        <div class="result-item">
                            <span class="result-label">D√©chets collect√©s:</span>
                            <input type="number" id="collecte-waste" name="waste" class="result-input" readonly>
                            <span class="unit">kg</span>
                        </div>
                        <div class="result-item">
                            <span class="result-label">Points distribu√©s:</span>
                            <input type="number" id="collecte-points" name="points" class="result-input" readonly>
                        </div>
                    </div>
                </div>
                <div class="popup-actions">
                    <button type="button" class="delete-btn" id="deleteCollecteBtn">Supprimer</button>
                </div>
            </form>
        </div>
    </div>
</body>

</html>